<!-- 头部tab -->
<view class="order-header">
  <view class="order-header-item" catchtap="menuClick" data-idx="1">
    <span class="{{allCls}}">
      全部 
    </span>
  </view>
  <view class="order-header-item" catchtap="menuClick" data-idx="2">
    <span class="{{dzfCls}}">
      待付款
    </span>
  </view>
  <view class="order-header-item" catchtap="menuClick" data-idx="3">
    <span class="{{dshCls}}">
      待收货
    </span>
  </view>
  <view class="order-header-item" catchtap="menuClick" data-idx="4">
    <span class="{{yqxCls}}">
      租用中
    </span>
  </view>
  <view class="order-header-item" catchtap="menuClick" data-idx="5">
    <span class="{{ywcCls}}">
      已完成 
    </span>
  </view>
</view>
<view class="empty-box {{isEmpty}}">
  <view class="empty-box-txt">
    暂时没有数据
  </view>
  <view class="empty-box-btn">
    <button class="empty-box-btn-cls" catchtap="gotoIndex">
      去首页逛逛
      <image src="/images/order/no_icon.png" class="empty-box-btn-img"></image>
    </button>
  </view>
</view>
<!--全部订单模块-->
<view wx:if="{{allStatus}}" class="{{isShow}}">
  <view class="order-list">
    <navigator url="/pages/order/detail/detail?id={{item.id}}" wx:for="{{orderlist}}" wx:key="unique1">
      <view class="order-list-item-dzf">
        <view class="order-list-item-dzf-head">
          <span class="orderno-tag">订单号:</span>
          <span class="orderno-imp">{{item.orderno}}</span>
          <span class="money {{item.moneyCls}}">{{item.statusTxt}}</span>
        </view>
 
        <view wx:for="{{item.orderwarelist}}" wx:for-index="idx" wx:for-item="orderware">
          <view class="order-list-item-dzf-bd">
            <!-- <image src="/images/order/edit.png" class="item-edit" wx:if="{{item.status == 1}}"/> -->
            <view class="item-left">
              <image class="item-img" src="{{imageRootPath}}{{orderware.pic}}"></image>
            </view>
            <view class="item-right">
              <text class="item-title">{{orderware.warename}}</text>
              <view class="item-spec">
                <span>新旧：{{orderware.level}}</span>
              </view>
              <view class="item-spec">
                <span>颜色：{{orderware.color}}</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one">租用月数：{{orderware.rent_date}}月</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one">价格：{{orderware.price}}元/月</span>
                <span>押金：{{orderware.rent_cost}}元</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 2}}">
                <span class="item-spec-one">零售价：{{orderware.smprice}}元</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
              <!-- <view class="item-spec item-relative item-height-60" wx:if="{{item.status == 4 && orderware.iscomment==0}}">
                  <button class="btn-pj" data-id="{{item.id}}" catchtap="pjOrder">
                    评价
                  </button>
              </view> -->
            </view>
          </view>
        </view>

        <view class="order-list-item-dzf-money">
          <span class="item-price">¥{{item.total_money}}</span>
          <span class="item-hj">合计:</span>
          <span class="item-num">共{{item.orderwarelist.length}}件商品</span>
        </view>

        <view class="order-list-item-all-foot" wx:if="{{item.status == 1}}">
          <button class="all-btn-com btn-zf" data-id="{{item.id}}" catchtap="payOrder">
            {{payTxt}}
          </button>
          <button class="all-btn-com btn-qx" data-id="{{item.id}}" catchtap="cancelOrder">
            取消订单
          </button>
        </view>
      </view>
    </navigator>
  </view>
</view>

<!--待支付订单模块-->
<view wx:if="{{dzfStatus}}" class="{{isShow}}">
  <view class="order-list">
    <!--待支付-->
    <navigator url="/pages/order/detail/detail?id={{item.id}}" wx:for="{{orderlist}}" wx:key="unique1">
      <view class="order-list-item-dzf">
        <view class="order-list-item-dzf-head">
          <span class="orderno-tag">订单号:</span>
          <span class="orderno-imp">{{item.orderno}}</span>
          <span class="money {{item.moneyCls}}">{{item.statusTxt}}</span>
        </view>

        <view wx:for="{{item.orderwarelist}}" wx:for-index="idx" wx:for-item="orderware">
          <view class="order-list-item-dzf-bd">
            <!-- <image src="/images/order/edit.png" class="item-edit"/> -->
            <view class="item-left">
              <image class="item-img" src="{{imageRootPath}}{{orderware.pic}}"></image>
            </view>
            <view class="item-right">
              <text class="item-title">{{orderware.warename}}</text>
              <view class="item-spec">
                <span>新旧：{{orderware.level}}</span>
              </view>
              <view class="item-spec">
                <span>颜色：{{orderware.color}}</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one">租用月数：{{orderware.rent_date}}月</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one" >价格：{{orderware.price}}元/月</span>
                <span>押金：{{orderware.rent_cost}}元</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 2}}">
                <span class="item-spec-one">零售价：{{orderware.smprice}}元</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
            </view>
          </view>
        </view>

        <view class="order-list-item-dzf-money">
          <span class="item-price-red item-price">¥{{item.total_money}}</span>
          <span class="item-hj">合计:</span>
          <span class="item-num">共{{item.orderwarelist.length}}件商品</span>
        </view>

        <view class="order-list-item-all-foot" wx:if="{{item.status == 1}}">
          <button class="all-btn-com btn-zf" data-id="{{item.id}}" catchtap="payOrder">
            {{payTxt}}
          </button>
          <button class="all-btn-com btn-qx" data-id="{{item.id}}" catchtap="cancelOrder">
            取消订单
          </button>
        </view>
      </view>
    </navigator>
  </view>
</view>

<!--待收货订单模块-->
<view wx:if="{{dshStatus}}" class="{{isShow}}">
  <view class="order-list">
    <navigator url="/pages/order/detail/detail?id={{item.id}}" wx:for="{{orderlist}}" wx:key="unique1">
      <view class="order-list-item-dzf">
        <view class="order-list-item-dzf-head">
          <span class="orderno-tag">订单号:</span>
          <span class="orderno-imp">{{item.orderno}}</span>
          <span class="money {{item.moneyCls}}">{{item.statusTxt}}</span>
        </view>

        <view wx:for="{{item.orderwarelist}}" wx:for-index="idx" wx:for-item="orderware">
          <view class="order-list-item-dzf-bd">
            <view class="item-left">
              <image class="item-img" src="{{imageRootPath}}{{orderware.pic}}"></image>
            </view>
            <view class="item-right">
              <text class="dfh-item-title">{{orderware.warename}}</text>
              <view class="item-spec">
                <span>新旧：{{orderware.level}}</span>
              </view>
              <view class="item-spec"> 
                <span>颜色：{{orderware.color}}</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one">租用月数：{{orderware.rent_date}}月</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one">价格：{{orderware.price}}元/月</span>
                <span>押金：{{orderware.rent_cost}}元</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 2}}">
                <span class="item-spec-one">零售价：{{orderware.smprice}}元</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
            </view>
          </view>
        </view>

        <view class="order-list-item-dzf-money">
          <span class="item-price item-price-red">¥{{item.total_money}}</span>
          <span class="item-hj item-price-red">总付款:</span>
          <!--<span class="dfh-item-price">¥{{item.transportation_cost}}</span>
          <span class="item-hj">运费:</span>-->
          <span class="item-num">共{{item.orderwarelist.length}}件商品</span>
        </view>

        <view class="order-list-item-all-foot" wx:if="{{item.status == 3}}">
          <button class="all-btn-com btn-zf" data-id="{{item.id}}" catchtap="shOrder">
            确认收货
          </button>
          <button class="all-btn-com btn-qx" data-num="{{item.sendexpressnumber}}" data-orderno="{{item.orderno}}" catchtap="lookLogistics">
            查看物流
          </button>
        </view>
      </view>
    </navigator>
  </view>
</view>

<!--已完成订单模块-->
<view wx:if="{{ywcStatus}}" class="{{isShow}}">
  <view class="order-list">
    <navigator url="/pages/order/detail/detail?id={{item.id}}" wx:for="{{orderlist}}" wx:key="unique1">
      <view class="order-list-item-dzf">
        <view class="order-list-item-dzf-head">
          <span class="orderno-tag">订单号:</span>
          <span class="orderno-imp">{{item.orderno}}</span>
          <span class="money {{item.moneyCls}}">{{item.statusTxt}}</span>
        </view>

        <view wx:for="{{item.orderwarelist}}" wx:for-index="idx" wx:for-item="orderware">
          <view class="order-list-item-dzf-bd">
            <image src="/images/order/edit.png" class="item-edit" wx:if="{{item.status == 1}}"/>
            <view class="item-left">
              <image class="item-img" src="{{imageRootPath}}{{orderware.pic}}"></image>
            </view>
            <view class="item-right">
              <text class="item-title">{{orderware.warename}}</text>
              <view class="item-spec">
                <span>新旧：{{orderware.level}}</span>
              </view>
              <view class="item-spec">
                <span>颜色：{{orderware.color}}</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one">租用月数：{{orderware.rent_date}}月</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 0}}">
                <span class="item-spec-one">价格：{{orderware.price}}元/月</span>
                <span>押金：{{orderware.rent_cost}}元</span>
              </view>
              <view class="item-spec" wx:if="{{item.order_type == 2}}">
                <span class="item-spec-one">零售价：{{orderware.smprice}}元</span>
                <span>数量：{{orderware.amount}}个</span>
              </view>
              <!-- <view class="item-spec item-relative item-height-60" wx:if="{{item.status == 4 && orderware.iscomment==0}}">
                <navigator url="/pages/comment/edit/edit?id=item.id"> 
                  <button class="btn-pj" data-id="{{item.id}}" catchtap="pjOrder">
                    评价
                  </button>
                </navigator>
              </view> -->
            </view>
          </view>
        </view>

        <view class="order-list-item-dzf-money">
          <span class="item-price">¥{{item.total_money}}</span>
          <span class="item-hj">合计:</span>
          <span class="item-num">共{{item.orderwarelist.length}}件商品</span>
        </view>
      </view>
    </navigator>
  </view>
</view>

<!--已取消订单模块-->
<view wx:if="{{yqxStatus}}" class="{{isShow}}">
  <view class="order-list">
    <view wx:for="{{rentlist}}" wx:key="unique1">
      <view class="order-list-item-dzf item-nobottom">
        <view class="order-list-item-dzf-head">
          <view wx:if="{{item.status == 1}}">
            <view wx:if="{{item.selected}}" class="orderno-icon active" bindtap="selectList" data-index="{{index}}"></view>
            <view wx:else class="orderno-icon" bindtap="selectList" data-index="{{index}}"></view>
          </view>
          <span class="orderno-tag item-mleft-45" bindtap="selectList" data-index="{{index}}">物品编码:</span>
          <span class="orderno-imp" bindtap="selectList" data-index="{{index}}">{{item.warenumber}}</span>
          <span class="orderno-imp" bindtap="selectList" data-index="{{index}}">
          <view wx:if="{{item.status == 10000}}">
            (已购买)
          </view>
          <view wx:if="{{item.status == 1}}">
            (在使用中)
          </view>
          <view wx:if="{{item.status == 2}}">
            (已归还)
          </view>
          <view wx:if="{{item.status == 3}}">
            (换货中)
          </view>
          <view wx:if="{{item.status == 4}}">
            (退货中)
          </view>
          <view wx:if="{{item.status == 5}}">
            (逾期中)
          </view>
          </span>
        </view>

        <navigator url="/pages/product/info/info?id={{item.wareid}}">
          <view class="order-list-item-dzf-bd" data-index="{{index}}">
            <view class="item-left">
              <image class="item-img" src="{{imageRootPath}}{{item.pic1}}"></image>
            </view>
            <view class="item-right">
              <text class="dfh-item-title">{{item.warename}}</text>
              <text class="item-day" wx:if="{{item.status == 10000}}">颜色：{{item.color}}天</text>
              <text class="item-day" wx:if="{{item.status == 10000}}">新旧：{{item.level}}天</text>
              <text class="item-day" wx:if="{{item.status != 10000}}">租用天数：{{item.rent_time}}天</text>
              <text class="item-day" wx:if="{{item.status != 10000}}">已租用天数：{{item.have_rent_time}}天</text>
              <text class="item-day" wx:if="{{item.status != 10000}}">剩余天数：{{item.left_rent_time}}天</text>
              <view class="item-spec item-relative item-height-60">
                  <button class="btn-pj" data-id="{{item.id}}" catchtap="pjOrder">
                    评价
                  </button>
              </view>
            </view>
          </view>
        </navigator>
      </view>
    </view>
  </view>
</view>

<view class="order-list-item-dzf-foot" wx:if="{{isZyzbtnStatus}}">
  <view wx:if="{{selectAllStatus}}" class="btn-icon active" bindtap="selectAll"></view>
  <view wx:else class="btn-icon" bindtap="selectAll"></view>
  <text class="btn-txt" bindtap="selectAll">全选</text>
  
  <button class="btn-buy" bindtap="czClick">
      操作
  </button>
</view>

<!-- 修改弹窗 -->
<view hidden="{{!modalSpecShow}}" class="modal-spec modal-wrap vertical-center">
  <view class="modal">
    <view class="modal-close" bindtap="closeModal" >
      <image class="modal-close-img" src="/images/product/modal_close.png" mode="widthFix"></image>
    </view>
    <view class="modal-body-xz">
      <view class="modal-item">
        <span class="modal-item-desc">续租月数:</span>
        <span class="modal-item-inp">
          <span class="ocon ocon-l" bindtap="reduceNumber">-</span>
          <input class="inp" value="{{updRentdates}}" bindinput="bindRentdatesChange"></input>
          <span class="ocon ocon-r" bindtap="addNumber">+</span>
        </span>
      </view>
    </view>
    <view class="modal-footer">
      <button class="modal-qd" bindtap="xzClickImp">
        确定
      </button>
    </view>
  </view>
</view>
<!-- /修改弹窗 -->


<!-- 操作弹窗 -->
<view hidden="{{!modalOperShow}}" class="modal-spec modal-wrap vertical-center">
  <view class="modal">
    <view class="modal-close" bindtap="closeOperModal" >
      <image class="modal-close-img" src="/images/product/modal_close.png" mode="widthFix"></image>
    </view>
    <view class="modal-header">
      <view class="modal-header-item">
        请选择
      </view>
    </view>
    <view class="modal-body">
      <view class="modal-body-item">
        <button class="syz-btn-com ml {{1 == operIdx ? ' active' : ''}}" data-idx="1" bindtap="operClick">
          租转买 
        </button>
        <button class="syz-btn-com mr {{2 == operIdx ? ' active' : ''}}" data-idx="2" bindtap="operClick">
          续租
        </button>
      </view>
      <view class="modal-body-item">
        <button class="syz-btn-com ml {{3 == operIdx ? ' active' : ''}}" data-idx="3" bindtap="operClick">
          退还
        </button>
        <button class="syz-btn-com mr {{4 == operIdx ? ' active' : ''}}" data-idx="4" bindtap="operClick">
          换货
        </button>
      </view>
    </view>
    <view class="modal-footer">
      <button class="modal-qd" bindtap="operClickImpl">
        确定
      </button>
    </view>
  </view>
</view>
<!-- /操作弹窗 -->

<!-- 物流信息弹窗 -->
<view hidden="{{!modalWlShow}}" class="modal-spec modal-wrap vertical-center">
  <view class="modal modal-width">
    <view class="modal-close" bindtap="closeWlModal" >
      <image class="modal-close-img" src="/images/product/modal_close.png" mode="widthFix"></image>
    </view>
    <view class="modal-header">
      <view class="modal-header-item">
        订单号：{{wlorderno}}
      </view>
    </view>
    <view class="modal-body modal-body-wl">
      <view class="modal-body-wl-item" wx:for="{{wlnoArr}}" wx:for-item="wxno">
        <text class="modal-body-wl-item-txt">物流单号：{{wxno}}</text>
        <button class="modal-body-wl-item-btn" data-wxno="{{wxno}}" bindtap="copywxno">
          复制
        </button>
      </view>
    </view>
  </view>
</view>
<!-- /物流信息弹窗 -->

<view wx:if="{{loading}}" class="loading-status">加载中...</view>
<view wx:if="{{noData}}" class="loading-status"></view>


